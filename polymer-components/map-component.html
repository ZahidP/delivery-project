<polymer-element name="map-component" attributes="deliveries drivers speed">
  <template>
  	<link href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css' rel='stylesheet'/>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,700|Roboto:400,300,700,400italic,300italic' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
    <link href='https://api.tiles.mapbox.com/mapbox.js/v2.1.8/mapbox.css' rel='stylesheet' />
    <link href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css' rel='stylesheet' />
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,700|Roboto:400,300,700,400italic,300italic' rel='stylesheet' type='text/css'>


  	<style>

    </style>

    <div id="map-col" class="col-md-7">
			<div id="mapcontainer">
				<div id="map">
				MapTime
				</div>
			</div>

		</div>


    <script>
    L.mapbox.accessToken = 'pk.eyJ1IjoiemFoaWQiLCJhIjoiYkE0WWYtYyJ9.Iumsoihb-jms7CXygDKKMg';

    var map = L.map('map', {
      center: [41.895, -87.62501120567322],
      zoom: 13,
      zoomControl: true,
      scrollWheelZoom: false
    });
        //.addLayer(mapboxTiles)

    // Replace 'examples.map-i87786ca' with your map id.
    var mapboxTiles = L.tileLayer('https://{s}.tiles.mapbox.com/v4/zahid.loa698h2/{z}/{x}/{y}.png?access_token=' + L.mapbox.accessToken, {
        attribution: '<a href="http://www.mapbox.com/about/maps/" target="_blank">Terms &amp; Feedback</a>'
    }).addTo(map);



    var drivers = [
                    [41.899, -87.621],
                    [41.885, -87.628]
                  ];


    for (var i = 0; i < drivers.length; i++) {
      var marker = new L.marker(drivers[i])
        .bindPopup(drivers[i][0])
        .addTo(map);
    }

    </script>

  </template>


  <script src="https://cdn.socket.io/socket.io-1.3.4.js"></script>
  <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
  <script src='https://api.tiles.mapbox.com/mapbox.js/v2.1.8/mapbox.js'></script>
  	<script>
    //var http = require('http').Server(app);
    //var io = require('socket.io')(http);
    var socket = io();

    Polymer('parameter-component',{
      ready: function() {
      	this.deliveries = 20;
      	this.drivers = 2;
      	this.speed = 20;
        this.map = {};
      },
      moreDeliveries: function () {
      	this.deliveries = this.deliveries + 1;
      	console.log('more deliveries');
      },		L.mapbox.accessToken = 'pk.eyJ1IjoiemFoaWQiLCJhIjoiYkE0WWYtYyJ9.Iumsoihb-jms7CXygDKKMg';
      		// var map = L.map('map').setView([41.905, -87.652], 12);
      mapChanged: function () {


          this.map = map;
        }
    }

    </script>
</polymer-element>
